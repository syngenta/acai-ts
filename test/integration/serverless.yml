service: acai-ts-int-test
package:
    patterns:
        - '!.*'
        - '!**/**'
        - '!infra/**'
        - '!test/**'
        - '!README.md'
        - '!serverless.yml'
        - '!package.json'
        - '!package-lock.json'
        - openapi.yml
plugins:
    - serverless-plugin-typescript
    - serverless-offline
provider:
    name: aws
    runtime: nodejs20.x
    stage: local
    region: us-east-1
    environment:
        AUTO_VALIDATE: ${env:AUTO_VALIDATE, 'false'}
        VALIDATE_RESPONSE: ${env:VALIDATE_RESPONSE, 'false'}
        TEST_API_KEY: ${env:TEST_API_KEY, 'integration-key'}
custom:
    serverless-offline:
        httpPort: 3000
        stage: local
        prefix: ${self:service}
        region: us-east-2
        noAuth: true
        noPrependStageInUrl: true
functions:
    api:
        handler: src/router.handler
        memorySize: 256
        timeout: 30
        events:
            - http:
                path: /
                method: ANY
            - http:
                method: ANY
                path: /{proxy+}
